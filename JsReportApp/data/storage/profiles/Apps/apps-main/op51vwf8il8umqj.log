{"type":"operationStart","subtype":"profile","data":{"_id":"27AZ26uvcfaR8USy","timestamp":"2024-01-31T22:26:41.289Z","state":"queued","mode":"standard","creationDate":"2024-01-31T22:26:41.292Z","modificationDate":"2024-01-31T22:26:41.292Z","shortid":"DXQjM-e","$entitySet":"profiles"},"doDiffs":false,"timestamp":1706740001291,"id":"kzt1uqewxv7fx4e","previousOperationId":null,"operationId":"ey0v43vi2gtotp5"}
{"type":"log","level":"info","message":"Render request 12 queued for execution and waiting for available worker","previousOperationId":"ey0v43vi2gtotp5","timestamp":1706740001291,"id":"tuerbu74y4dmo8g"}
{"type":"operationStart","subtype":"render","name":"apps-main","previousOperationId":"ey0v43vi2gtotp5","timestamp":1706740001307,"id":"o93slpm6vnqff56","previousEventId":"kzt1uqewxv7fx4e","operationId":"j74i9j0e5cc4slm"}
{"type":"log","timestamp":1706740001307,"level":"info","message":"Starting rendering request 12","meta":{"rootId":"op51vwf8il8umqj","id":"op51vwf8il8umqj"},"id":"v922v7u04l3vp70","previousOperationId":"j74i9j0e5cc4slm"}
{"type":"log","timestamp":1706740001308,"level":"info","message":"Rendering template { name: apps-main, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"op51vwf8il8umqj","id":"op51vwf8il8umqj"},"id":"lqid14nglg423jh","previousOperationId":"j74i9j0e5cc4slm"}
{"type":"log","timestamp":1706740001309,"level":"debug","message":"Inline data specified.","meta":{"rootId":"op51vwf8il8umqj","id":"op51vwf8il8umqj"},"id":"7cqmdsydkcuv7qa","previousOperationId":"j74i9j0e5cc4slm"}
{"type":"log","timestamp":1706740001311,"level":"debug","message":"Executing script apps-script (beforeRender)","meta":{"rootId":"op51vwf8il8umqj","id":"op51vwf8il8umqj"},"id":"bi6i6k5gom539qz","previousOperationId":"j74i9j0e5cc4slm"}
{"type":"log","timestamp":1706740001322,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"op51vwf8il8umqj","id":"op51vwf8il8umqj"},"id":"2t5z0x8f5hbklwh","previousOperationId":"j74i9j0e5cc4slm"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1706740001323,"id":"5cj7d5sb7to3sue","previousEventId":"o93slpm6vnqff56","operationId":"geu8iyukyi5p646","previousOperationId":"j74i9j0e5cc4slm"}
{"type":"log","timestamp":1706740001323,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"op51vwf8il8umqj","id":"op51vwf8il8umqj"},"id":"ul40yvh9ryh6jpq","previousOperationId":"geu8iyukyi5p646"}
{"type":"log","timestamp":1706740001352,"level":"warn","message":"Error when processing render request 12\n(because) error when evaluating engine handlebars for template /Apps/apps-main\n(because) missing helper: \"jsonString\"\n\n(sandbox.js line 13:18)\nError: Missing helper: \"jsonString\"\n    at Object.<anonymous> (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\helper-missing.js:19:13)\n    at Object.wrapper (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at Object.main (eval at compile (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:33:137)\n    at main (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:208:32)\n    at ret (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:212:12)\n    at Object.execute (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:80:14)\n    at Object.execute (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\worker.js:27:43)\n    at executionFn (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:222:40)\n    at sandbox.js:13:18\n    at async run (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:137:16)\nwrapped by:\nError: Error when evaluating engine handlebars for template /Apps/apps-main\n(because) missing helper: \"jsonString\"\n    at module.exports (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:310:33)\n    at async engine.engine (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n    at async WorkerReporter._render (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n    at async C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","meta":{"rootId":"op51vwf8il8umqj","id":"op51vwf8il8umqj"},"id":"x989ya2k8aj1w13","previousOperationId":"geu8iyukyi5p646"}
{"type":"log","timestamp":1706740001352,"level":"warn","message":"Rendering request 12 finished with error in 63 ms","meta":{"rootId":"op51vwf8il8umqj","id":"op51vwf8il8umqj"},"id":"l1v1e5yy9gxcie7","previousOperationId":"geu8iyukyi5p646"}
{"type":"error","timestamp":1706740001364,"entity":{"shortid":"RT0TK-P2C","name":"apps-main","content":"<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Gráfico de URLs</title>\r\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\r\n</head>\r\n<body>\r\n    <h2>Listado de Aplicaciones</h2>\r\n    <table border=\"1\">\r\n        <tr>\r\n            <th>ID</th>\r\n            <th>Icono</th>\r\n            <th>URL</th>\r\n            <th>Fecha de Creación</th>\r\n            <th>Fecha de Actualización</th>\r\n        </tr>\r\n        {{#each jsonData}}\r\n            <tr>\r\n                <td>{{this.id}}</td>\r\n                <td><img src=\"{{this.icon}}\" alt=\"Icono\"></td>\r\n                <td>{{this.URL}}</td>\r\n                <td>{{this.created_at}}</td>\r\n                <td>{{this.updated_at}}</td>\r\n            </tr>\r\n        {{/each}}\r\n    </table>\r\n\r\n    <canvas id=\"urlChart\" width=\"400\" height=\"200\"></canvas>\r\n\r\n    <script>\r\n        // Definir el helper jsonString\r\n        Handlebars.registerHelper('jsonString', function(context) {\r\n            return JSON.stringify(context);\r\n        });\r\n\r\n        document.addEventListener(\"DOMContentLoaded\", function () {\r\n            // Datos proporcionados como contexto al renderizar el informe\r\n            var jsonData = {{{jsonString jsonData}}};\r\n\r\n            var httpUrls = jsonData.filter(item => item.URL.startsWith(\"http\"));\r\n            var nonHttpUrls = jsonData.filter(item => !item.URL.startsWith(\"http\"));\r\n\r\n            var ctx = document.getElementById(\"urlChart\").getContext(\"2d\");\r\n\r\n            var chart = new Chart(ctx, {\r\n                type: \"bar\",\r\n                data: {\r\n                    labels: [\"HTTP URLs\", \"No HTTP URLs\"],\r\n                    datasets: [{\r\n                        label: \"Cantidad de URLs\",\r\n                        data: [httpUrls.length, nonHttpUrls.length],\r\n                        backgroundColor: [\"blue\", \"red\"]\r\n                    }]\r\n                },\r\n                options: {\r\n                    scales: {\r\n                        y: {\r\n                            beginAtZero: true,\r\n                            ticks: {\r\n                                stepSize: 1\r\n                            }\r\n                        },\r\n                        x: {\r\n                            type: 'category',\r\n                            labels: [\"HTTP URLs (\"+httpUrls.length+\")\", \"No HTTP URLs (\"+nonHttpUrls.length+\")\"],\r\n                            title: {\r\n                                display: true,\r\n                                text: 'Tipo de URLs'\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    </script>\r\n</body>\r\n</html>\r\n"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"geu8iyukyi5p646","id":"ehbouk1r70qp3r1","stack":"Error: Missing helper: \"jsonString\"\n    at Object.<anonymous> (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\helper-missing.js:19:13)\n    at Object.wrapper (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at Object.main (eval at compile (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:35:30), <anonymous>:33:137)\n    at main (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:208:32)\n    at ret (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:212:12)\n    at Object.execute (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:80:14)\n    at Object.execute (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\worker.js:27:43)\n    at executionFn (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:222:40)\n    at sandbox.js:13:18\n    at async run (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:137:16)\nwrapped by:\nError: Error when evaluating engine handlebars for template /Apps/apps-main\n(because) missing helper: \"jsonString\"\n    at module.exports (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:310:33)\n    at async engine.engine (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n    at async WorkerReporter._render (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n    at async C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (C:\\Users\\juank\\Proyectos\\Tecnologias\\JsReportApp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","message":"Error when evaluating engine handlebars for template /Apps/apps-main\n(because) missing helper: \"jsonString\"\n\n(sandbox.js line 13:18)"}
