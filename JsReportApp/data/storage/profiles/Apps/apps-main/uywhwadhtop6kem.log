{"type":"operationStart","subtype":"profile","data":{"_id":"n7L2RHfHy3y2Shp4","timestamp":"2024-01-17T18:51:21.254Z","state":"queued","mode":"standard","creationDate":"2024-01-17T18:51:21.258Z","modificationDate":"2024-01-17T18:51:21.258Z","shortid":"fz5ztZ-","$entitySet":"profiles"},"doDiffs":false,"timestamp":1705517481256,"id":"m0a45qwcilph6c2","previousOperationId":null,"operationId":"e9gvw2na7t9ut5a"}
{"type":"log","level":"info","message":"Render request 10 queued for execution and waiting for available worker","previousOperationId":"e9gvw2na7t9ut5a","timestamp":1705517481257,"id":"weh527rpo42jj9q"}
{"type":"operationStart","subtype":"render","name":"apps-main","previousOperationId":"e9gvw2na7t9ut5a","timestamp":1705517481275,"id":"ezr37d8d8q6mwig","previousEventId":"m0a45qwcilph6c2","operationId":"lm6f3p1itjxfx0t"}
{"type":"log","timestamp":1705517481275,"level":"info","message":"Starting rendering request 10","meta":{"rootId":"uywhwadhtop6kem","id":"uywhwadhtop6kem"},"id":"jxzy5d6ym40fi0r","previousOperationId":"lm6f3p1itjxfx0t"}
{"type":"log","timestamp":1705517481275,"level":"info","message":"Rendering template { name: apps-main, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"uywhwadhtop6kem","id":"uywhwadhtop6kem"},"id":"fpgieskzj2ix50q","previousOperationId":"lm6f3p1itjxfx0t"}
{"type":"log","timestamp":1705517481276,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"uywhwadhtop6kem","id":"uywhwadhtop6kem"},"id":"a6etg9ocsabw008","previousOperationId":"lm6f3p1itjxfx0t"}
{"type":"log","timestamp":1705517481278,"level":"debug","message":"Executing script apps-script (beforeRender)","meta":{"rootId":"uywhwadhtop6kem","id":"uywhwadhtop6kem"},"id":"9ye7l7320ggurku","previousOperationId":"lm6f3p1itjxfx0t"}
{"type":"log","timestamp":1705517481300,"level":"warn","message":"Error when processing render request 10\n(because) error when evaluating custom script /Apps/apps-script\nThe \"cb\" argument must be of type function. Received type string ('utf-8')\n\n(sandbox.js line 8:29)\n\n   6 |\n   7 | const rutaArchivoDatos = 'C:\\\\Users\\\\juank\\\\Proyectos\\\\Tecnologias\\\\JsReportApp\\\\data\\\\Apps\\\\apps-data.txt';\n>  8 | const contenidoArchivo = fs.readFile(rutaArchivoDatos,'utf-8');\n     |                             ^\n   9 |\n  10 | let datos;\n  11 | try {\n\n\nTypeError [ERR_INVALID_ARG_TYPE]: The \"cb\" argument must be of type function. Received type string ('utf-8')\n    at maybeCallback (node:fs:189:3)\n    at Object.readFile (node:fs:392:14)\n    at sandbox.js:8:29","meta":{"rootId":"uywhwadhtop6kem","id":"uywhwadhtop6kem"},"id":"yzeveisnx2tuo5w","previousOperationId":"lm6f3p1itjxfx0t"}
{"type":"log","timestamp":1705517481301,"level":"warn","message":"Rendering request 10 finished with error in 47 ms","meta":{"rootId":"uywhwadhtop6kem","id":"uywhwadhtop6kem"},"id":"qknckwxfl47n4cl","previousOperationId":"lm6f3p1itjxfx0t"}
{"type":"error","timestamp":1705517481307,"code":"ERR_INVALID_ARG_TYPE","statusCode":400,"weak":true,"decoratedSuffix":"\n\n(sandbox.js line 8:29)\n\n   6 |\n   7 | const rutaArchivoDatos = 'C:\\\\Users\\\\juank\\\\Proyectos\\\\Tecnologias\\\\JsReportApp\\\\data\\\\Apps\\\\apps-data.txt';\n>  8 | const contenidoArchivo = fs.readFile(rutaArchivoDatos,'utf-8');\n     |                             ^\n   9 |\n  10 | let datos;\n  11 | try {\n\n","entity":{"shortid":"fPhkMfgI1u","name":"apps-script","content":"const fs = require('fs');\nconst path = require('path');\n\n\n// path.join(__dirname,'\\\\data\\\\Apps\\\\apps-data'\n\nconst rutaArchivoDatos = 'C:\\\\Users\\\\juank\\\\Proyectos\\\\Tecnologias\\\\JsReportApp\\\\data\\\\Apps\\\\apps-data.txt';\nconst contenidoArchivo = fs.readFile(rutaArchivoDatos,'utf-8');\n\nlet datos;\ntry {\n  datos = JSON.parse(contenidoArchivo);\n} catch (error) {\n  console.error('Error al analizar el archivo JSON:', error);\n}\n\nasync function fetchApps(){\n    let datos;\ntry {\n  datos = JSON.parse(contenidoArchivo);\n} catch (error) {\n  console.error('Error al analizar el archivo JSON:', error);\n}\nconsole.log(datos);\n}\n// Use the \"beforeRender\" or \"afterRender\" hook\n// to manipulate and control the report generation\nasync function beforeRender (req, res) {\n    req.data.apps = await fetchApps();\n    console.log(req.data.apps);\n}\n"},"property":"content","logged":true,"previousOperationId":"lm6f3p1itjxfx0t","id":"uzmzfn4rgqdouye","stack":"TypeError [ERR_INVALID_ARG_TYPE]: The \"cb\" argument must be of type function. Received type string ('utf-8')\n    at maybeCallback (node:fs:189:3)\n    at Object.readFile (node:fs:392:14)\n    at sandbox.js:8:29","message":"Error when evaluating custom script /Apps/apps-script\nThe \"cb\" argument must be of type function. Received type string ('utf-8')\n\n(sandbox.js line 8:29)\n\n   6 |\n   7 | const rutaArchivoDatos = 'C:\\\\Users\\\\juank\\\\Proyectos\\\\Tecnologias\\\\JsReportApp\\\\data\\\\Apps\\\\apps-data.txt';\n>  8 | const contenidoArchivo = fs.readFile(rutaArchivoDatos,'utf-8');\n     |                             ^\n   9 |\n  10 | let datos;\n  11 | try {\n\n"}
