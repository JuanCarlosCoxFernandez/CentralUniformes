{"type":"operationStart","subtype":"profile","data":{"_id":"RA8FJqloDnlzkT4o","timestamp":"2024-01-17T18:44:40.237Z","state":"queued","mode":"standard","creationDate":"2024-01-17T18:44:40.241Z","modificationDate":"2024-01-17T18:44:40.241Z","shortid":"sq6fnYy","$entitySet":"profiles"},"doDiffs":false,"timestamp":1705517080239,"id":"n1mrwoqm9g0uj2n","previousOperationId":null,"operationId":"v9193jhemy1ywns"}
{"type":"log","level":"info","message":"Render request 6 queued for execution and waiting for available worker","previousOperationId":"v9193jhemy1ywns","timestamp":1705517080240,"id":"p6gy79u12lxmz8f"}
{"type":"operationStart","subtype":"render","name":"apps-main","previousOperationId":"v9193jhemy1ywns","timestamp":1705517080260,"id":"dxeqhxsawbn6sdv","previousEventId":"n1mrwoqm9g0uj2n","operationId":"kjte98jdqjihmn6"}
{"type":"log","timestamp":1705517080260,"level":"info","message":"Starting rendering request 6","meta":{"rootId":"6bwpp75lqp44b7e","id":"6bwpp75lqp44b7e"},"id":"yeacod8ik0xqusb","previousOperationId":"kjte98jdqjihmn6"}
{"type":"log","timestamp":1705517080261,"level":"info","message":"Rendering template { name: apps-main, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"6bwpp75lqp44b7e","id":"6bwpp75lqp44b7e"},"id":"wgzw3zwz32q15ud","previousOperationId":"kjte98jdqjihmn6"}
{"type":"log","timestamp":1705517080265,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"6bwpp75lqp44b7e","id":"6bwpp75lqp44b7e"},"id":"er1pujwpchsan9r","previousOperationId":"kjte98jdqjihmn6"}
{"type":"log","timestamp":1705517080276,"level":"debug","message":"Executing script apps-script (beforeRender)","meta":{"rootId":"6bwpp75lqp44b7e","id":"6bwpp75lqp44b7e"},"id":"ydc2ugwy71iyuzf","previousOperationId":"kjte98jdqjihmn6"}
{"type":"log","timestamp":1705517080312,"level":"warn","message":"Error when processing render request 6\n(because) error when evaluating custom script /Apps/apps-script\n__dirname is not defined\n\n(sandbox.js line 8:52)\n\n   6 |\n   7 | const rutaArchivoDatos = 'C:\\\\Users\\\\juank\\\\Proyectos\\\\Tecnologias\\\\JsReportApp\\\\data\\\\Apps\\\\apps-data';\n>  8 | const contenidoArchivo = fs.readFileSync(path.join(__dirname,'\\\\data\\\\Apps\\\\apps-data'), 'utf-8');\n     |                                                    ^\n   9 |\n  10 | let datos;\n  11 | try {\n\n\nReferenceError: __dirname is not defined\n    at sandbox.js:8:52","meta":{"rootId":"6bwpp75lqp44b7e","id":"6bwpp75lqp44b7e"},"id":"ds1evmuakiizp49","previousOperationId":"kjte98jdqjihmn6"}
{"type":"log","timestamp":1705517080312,"level":"warn","message":"Rendering request 6 finished with error in 75 ms","meta":{"rootId":"6bwpp75lqp44b7e","id":"6bwpp75lqp44b7e"},"id":"hn6gwyk09rflhap","previousOperationId":"kjte98jdqjihmn6"}
{"type":"error","timestamp":1705517080320,"statusCode":400,"weak":true,"lineNumber":8,"decoratedSuffix":"\n\n(sandbox.js line 8:52)\n\n   6 |\n   7 | const rutaArchivoDatos = 'C:\\\\Users\\\\juank\\\\Proyectos\\\\Tecnologias\\\\JsReportApp\\\\data\\\\Apps\\\\apps-data';\n>  8 | const contenidoArchivo = fs.readFileSync(path.join(__dirname,'\\\\data\\\\Apps\\\\apps-data'), 'utf-8');\n     |                                                    ^\n   9 |\n  10 | let datos;\n  11 | try {\n\n","entity":{"shortid":"fPhkMfgI1u","name":"apps-script","content":"const fs = require('fs');\nconst path = require('path');\n\n\n\n\nconst rutaArchivoDatos = 'C:\\\\Users\\\\juank\\\\Proyectos\\\\Tecnologias\\\\JsReportApp\\\\data\\\\Apps\\\\apps-data';\nconst contenidoArchivo = fs.readFileSync(path.join(__dirname,'\\\\data\\\\Apps\\\\apps-data'), 'utf-8');\n\nlet datos;\ntry {\n  datos = JSON.parse(contenidoArchivo);\n} catch (error) {\n  console.error('Error al analizar el archivo JSON:', error);\n}\n\nasync function fetchApps(){\n    let datos;\ntry {\n  datos = JSON.parse(contenidoArchivo);\n} catch (error) {\n  console.error('Error al analizar el archivo JSON:', error);\n}\nconsole.log(datos);\n}\n// Use the \"beforeRender\" or \"afterRender\" hook\n// to manipulate and control the report generation\nasync function beforeRender (req, res) {\n    req.data.apps = await fetchApps();\n    console.log(req.data.apps);\n}\n"},"property":"content","logged":true,"previousOperationId":"kjte98jdqjihmn6","id":"2r2aogdqdr46fox","stack":"ReferenceError: __dirname is not defined\n    at sandbox.js:8:52","message":"Error when evaluating custom script /Apps/apps-script\n__dirname is not defined\n\n(sandbox.js line 8:52)\n\n   6 |\n   7 | const rutaArchivoDatos = 'C:\\\\Users\\\\juank\\\\Proyectos\\\\Tecnologias\\\\JsReportApp\\\\data\\\\Apps\\\\apps-data';\n>  8 | const contenidoArchivo = fs.readFileSync(path.join(__dirname,'\\\\data\\\\Apps\\\\apps-data'), 'utf-8');\n     |                                                    ^\n   9 |\n  10 | let datos;\n  11 | try {\n\n"}
